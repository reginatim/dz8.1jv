–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∫ –∑–∞–Ω—è—Ç–∏—é ¬´–í—ã—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏¬ª
–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è
–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–≤–æ—ë —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é, —Å–≤–µ—Ä—å—Ç–µ—Å—å —Å —á–µ–∫–ª–∏—Å—Ç–æ–º.

1. –í —Ä–µ—à–µ–Ω–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
2. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Maven-–ø—Ä–æ–µ–∫—Ç, —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
3. –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
4. –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω –∫–æ–¥ [‚ö†Ô∏è: –≤ —ç—Ç–æ–º –∑–∞–¥–∞–Ω–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –∫–æ–¥ —Ç–µ—Å—Ç–æ–≤]
5. –ù–∞—Å—Ç—Ä–æ–µ–Ω Github CI —Å verify-—Å–±–æ—Ä–∫–æ–π Maven –∏ JaCoCo üÜï
CI
–ü–æ—Å–ª–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º –∏ –ø–µ—Ä–≤–æ–≥–æ –ø—É—à–∞ –≤ –∑–∞–≥–æ—Ç–æ–≤–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞, –≤—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å CI –Ω–∞ –æ—Å–Ω–æ–≤–µ GitHub Actions. –®–∞–±–ª–æ–Ω –≤–∞—à–µ–≥–æ maven.yml –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –≤–æ—Ç —Ç–∞–∫, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å—ë —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤–∞—à–∏–º —à–∞–±–ª–æ–Ω–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ –≤—ã —É–∫–∞–∑–∞–ª–∏ —Ñ–∞–∑—É verify, –∞ –Ω–µ package:

name: Java CI with Maven

on: [push, pull_request]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up JDK 11
      uses: actions/setup-java@v2
      with:
        java-version: '11'
        distribution: 'adopt'
    - name: Build with Maven
      run: mvn -B -e verify
JaCoCo
            <plugin>
                <groupId>org.jacoco</groupId>
                <artifactId>jacoco-maven-plugin</artifactId>
                <version>0.8.5</version>
                ...
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:

                    <execution>
                        <id>prepare-agent</id>
                        <goals>
                            <goal>prepare-agent</goal>
                        </goals>
                    </execution>
–í —Ä–µ–∂–∏–º–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–æ–≤:

                    <execution>
                        <id>report</id>
                        <phase>verify</phase>
                        <goals>
                            <goal>report</goal>
                        </goals>
                    </execution>
–í —Ä–µ–∂–∏–º–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –æ–±—Ä—É—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ –ø–æ —É—Ä–æ–≤–Ω—é –ø–æ–∫—Ä—ã—Ç–∏—è:

                    <execution>
                        <id>check</id>
                        <goals>
                            <goal>check</goal>
                        </goals>
                        <configuration>
                            <rules>
                                <rule>
                                    <limits>
                                        <limit>
                                            <counter>LINE</counter>
                                            <value>COVEREDRATIO</value>
                                            <minimum>100%</minimum>
                                        </limit>
                                    </limits>
                                </rule>
                            </rules>
                        </configuration>
                    </execution>
–ó–∞–¥–∞–Ω–∏–µ 1. –°–∏–Ω–¥—Ä–æ–º 100% (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é)
–í—ã –ø–æ–ø–∞–ª–∏ –≤ –∫–æ–º–∞–Ω–¥—É –º–∞–∫—Å–∏–º–∞–ª–∏—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç, —á—Ç–æ–±—ã —Ç–µ –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø–∏—à–µ—Ç–µ, –ø–æ–∫—Ä—ã–≤–∞–ª–∏ –∫–æ–¥ –Ω–∞ 100%.

–ù–æ –≤–æ—Ç –Ω–µ–∑–∞–¥–∞—á–∞:

–Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ —Ç–∞–∫–æ–µ 100%;
–Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å.
–í—Å–ø–æ–º–∏–Ω–∞–µ–º: –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞ —É –Ω–∞—Å –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è JaCoCo, –Ω–æ –æ–Ω –ø—Ä–æ—Å—Ç–æ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ —Ç–æ–º, —á—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–æ–¥–æ–±–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤, –ø–æ–º–∏–º–æ —Ü–µ–ª–µ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ (report), —Å–æ–¥–µ—Ä–∂–∞—Ç –µ—â—ë —Ü–µ–ª—å check, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä—É—à–∞–µ—Ç —Å–±–æ—Ä–∫—É, –µ—Å–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏.

–ß—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ

–°–æ–∑–¥–∞—Ç—å –ú–∞–≤–µ–Ω-–ø—Ä–æ–µ–∫—Ç —Å —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º –∫–æ–¥–æ–º –∏–∑ –ª–∏—Å—Ç–∏–Ω–≥–∞ –∫–æ–¥–∞, –æ–Ω —É–∫–∞–∑–∞–Ω –Ω–∏–∂–µ –ø–æ —É—Å–ª–æ–≤–∏—é.
–ò–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –Ω–∞ –ø–ª–∞–≥–∏–Ω, –∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ ‚Äî –Ω–∞ —Ü–µ–ª—å check.
–í–Ω–µ–¥—Ä–∏—Ç—å —ç—Ç—É —Ü–µ–ª—å –≤–æ —Ñ–∞–∑—É verify. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–∞ —Ü–µ–ª—å –∏ —Ç–∞–∫ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –≤ —ç—Ç—É —Ñ–∞–∑—É.
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –ø–æ –ø–æ–∫—Ä—ã—Ç–∏—é –Ω–∞ 100%. –ü—Ä–∏ —ç—Ç–æ–º –Ω—É–∂–Ω–æ –∏–∑—É—á–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Å—á—ë—Ç—á–∏–∫–∞–º–∏ INSTRUCTION, LINE, BRANCH, COMPLEXITY.
–í–Ω–∏–∫–Ω—É—Ç—å –≤ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–¥.
–í—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ —Å—á—ë—Ç—á–∏–∫–æ–≤ –∏ –¥–æ–±–∏—Ç—å—Å—è 100% –ø–æ–∫—Ä—ã—Ç–∏—è —á–µ—Ä–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤.
–í–∞–∂–Ω–æ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö:

INSTRUCTION
LINE
BRANCH
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —á–µ–∫–ª–∏—Å—Ç –≤ –Ω–∞—á–∞–ª–µ —É—Å–ª–æ–≤–∏—è, –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é JaCoCo –≤ –≤–∞—à –ú–∞–≤–µ–Ω-–ø—Ä–æ–µ–∫—Ç.

–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–¥, –µ–≥–æ –∫–∞–∫-–ª–∏–±–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–ª—å–∑—è:

package ru.netology.statistic;

public class StatisticsService {
  /**
   * Calculate index of max income
   *
   * @param incomes - array of incomes
   * @return - index of first max value
   */
  public long findMax(long[] incomes) {
    long current_max_index = 0;
    long current_max = incomes[0];
    for (long income : incomes)
      if (current_max < income)
        current_max = income;
        return current_max;
  }
}
–ö–ª–∞—Å—Å —Å —Ç–µ—Å—Ç–∞–º–∏, –µ–≥–æ –Ω–∞–¥–æ –±—É–¥–µ—Ç —Ä–∞—Å—à–∏—Ä–∏—Ç—å –Ω–æ–≤—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏:

package ru.netology.statistic;

import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

public class StatisticsServiceTest {

  @Test
  void findMax() {
    StatisticsService service = new StatisticsService();

    long[] incomesInBillions = {12, 5, 8, 4, 5, 3, 8, 6, 11, 11, 12};
    long expected = 12;

    long actual = service.findMax(incomesInBillions);

    assertEquals(expected, actual);
  }
}
–ò—Ç–æ–≥–æ: –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub —Å –≤–∞—à–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º.

–ó–∞–¥–∞–Ω–∏–µ 2*. –ü—É—Å—Ç—å –ø–ª–∞–≥–∏–Ω –∏—â–µ—Ç –±–∞–≥–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞)
SpotBugs –∏ Maven Plugin –¥–ª—è –Ω–µ–≥–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑, —Ç–æ –µ—Å—Ç—å –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –±–µ–∑ –µ–≥–æ –∑–∞–ø—É—Å–∫–∞, –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏—Ö—Å—è –±–∞–≥–æ–≤.

–°–ø–∏—Å–æ–∫ –±–∞–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—â–µ—Ç SpotBugs.

–í–∞—à–∞ –∑–∞–¥–∞—á–∞

–ü–æ–¥–∫–ª—é—á–∏—Ç—å –ø–ª–∞–≥–∏–Ω –∫ –≤–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É. –í–æ–∑—å–º–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏–∑ –ø–µ—Ä–≤–æ–π –∑–∞–¥–∞—á–∏ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –Ω–∞ –µ–≥–æ –±–∞–∑–µ.
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å goal check –≤ —Ñ–∞–∑—É verify.
–£–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ SpotBugs, –µ—Å–ª–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç, —Ç–æ –ø–æ—Ñ–∏–∫—Å–∏—Ç—å.
–°–¥–µ–ª–∞—Ç—å push –≤ GitHub –∏ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—å—Å—è, —á—Ç–æ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç.
–ò—Ç–æ–≥–æ: –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub —Å –≤–∞—à–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º.# dz8.1jv
